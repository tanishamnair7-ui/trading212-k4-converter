<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- SEO Meta Tags -->
    <title>Trading 212 to Swedish K4 Converter - Free Tax Form Generator</title>
    <meta name="description" content="Free tool to convert Trading 212 CSV statements to Swedish tax form K4 (Bilaga B). 100% private, no registration. Perfect for Swedish investors filing capital gains taxes.">
    <meta name="keywords" content="Trading 212, Swedish tax, K4, Skatteverket, capital gains, foreign stocks, Sweden, tax converter, CSV to Excel, Bilaga B, deklaration">
    <meta name="author" content="sedflix">
    <meta name="robots" content="index, follow">

    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://sedflix.github.io/trading212-k4-converter/">
    <meta property="og:title" content="Trading 212 to Swedish K4 Converter">
    <meta property="og:description" content="Free tool to convert Trading 212 statements to Swedish K4 tax format. 100% private, client-side processing.">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Trading 212 to Swedish K4 Converter">
    <meta name="twitter:description" content="Convert Trading 212 CSV to Swedish K4 tax format - Free & Private">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://sedflix.github.io/trading212-k4-converter/">

    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üá∏üá™</text></svg>">

    <!-- Schema.org structured data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Trading 212 to Swedish K4 Converter",
      "description": "Convert Trading 212 transaction history to Swedish tax form K4",
      "url": "https://sedflix.github.io/trading212-k4-converter/",
      "applicationCategory": "FinanceApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "SEK"
      }
    }
    </script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                        }
                    }
                }
            }
        }
    </script>

    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>
<body class="bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 min-h-screen">
    <div class="max-w-5xl mx-auto min-h-screen bg-white shadow-2xl">
        <!-- Hero Section -->
        <header class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white relative overflow-hidden">
            <div class="absolute inset-0 bg-black opacity-10"></div>
            <div class="relative z-10 px-6 py-16 md:py-20 text-center">
                <h1 class="text-4xl md:text-5xl font-bold mb-4">Trading 212 ‚Üí Swedish K4</h1>
                <p class="text-lg md:text-xl text-blue-100 mb-6 max-w-2xl mx-auto">
                    Convert your Trading 212 statements to Swedish tax form K4 in seconds
                </p>
                <div class="flex flex-wrap gap-3 justify-center">
                    <span class="px-4 py-2 bg-white/20 backdrop-blur-sm rounded-full text-sm font-medium border border-white/30">
                        üîí 100% Private
                    </span>
                    <span class="px-4 py-2 bg-white/20 backdrop-blur-sm rounded-full text-sm font-medium border border-white/30">
                        ‚ö° Instant
                    </span>
                    <span class="px-4 py-2 bg-white/20 backdrop-blur-sm rounded-full text-sm font-medium border border-white/30">
                        üÜì Free
                    </span>
                </div>
            </div>
            <div class="h-8 bg-white rounded-t-3xl relative -mb-1"></div>
        </header>

        <main class="px-6 py-12 md:px-8">
            <!-- Upload Section -->
            <section class="mb-12">
                <div id="uploadArea" class="relative border-2 border-dashed border-gray-300 rounded-2xl p-16 md:p-24 text-center cursor-pointer transition-all duration-300 hover:border-blue-500 hover:bg-blue-50/50 hover:-translate-y-1 hover:shadow-xl bg-white shadow-md">
                    <div class="absolute inset-0 bg-gradient-to-br from-blue-500 to-indigo-500 opacity-0 hover:opacity-5 transition-opacity duration-300 rounded-2xl"></div>
                    <div class="relative z-10">
                        <div class="text-7xl mb-6">üìÅ</div>
                        <p class="text-2xl font-bold text-gray-900 mb-2 tracking-tight">Drop your Trading 212 CSV here</p>
                        <p class="text-base text-gray-500 font-medium">or click to browse your files</p>
                    </div>
                    <input type="file" id="fileInput" accept=".csv" class="hidden">
                </div>
                <p class="text-center mt-6 text-gray-600 text-base">
                    Need help? <a href="#" onclick="document.querySelectorAll('.faq details')[0].open=true; document.getElementById('faq').scrollIntoView({behavior:'smooth'}); return false;" class="text-blue-600 hover:text-blue-700 hover:underline font-semibold">How to export CSV from Trading 212?</a>
                </p>
            </section>

            <!-- Preview Section -->
            <section id="previewSection" class="hidden mb-12 animate-fade-in">
                <div id="previewStats" class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"></div>

                <details class="bg-gray-50 border border-gray-200 rounded-xl overflow-hidden">
                    <summary class="px-6 py-4 cursor-pointer font-semibold text-blue-600 hover:bg-blue-50 transition-colors flex items-center justify-between">
                        <span>üìä View Transaction Details</span>
                        <span class="text-2xl">+</span>
                    </summary>
                    <div id="previewTable" class="p-6 border-t border-gray-200"></div>
                </details>
            </section>

            <!-- Download Section -->
            <section id="downloadSection" class="hidden mb-12 animate-fade-in">
                <div id="k4Summary" class="bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-300 rounded-2xl p-8 mb-8"></div>

                <div class="grid md:grid-cols-2 gap-6">
                    <button id="downloadK4" class="group bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl p-6 hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 hover:-translate-y-1 hover:shadow-xl flex items-center gap-4">
                        <div class="text-5xl bg-white/20 p-4 rounded-xl">üì•</div>
                        <div class="text-left">
                            <div class="font-bold text-lg">Download K4 Statement</div>
                            <div class="text-blue-100 text-sm">Ready for Skatteverket</div>
                        </div>
                    </button>

                    <button id="downloadOriginal" class="group bg-white border-2 border-gray-300 text-gray-900 rounded-xl p-6 hover:border-blue-500 hover:bg-blue-50 transition-all duration-300 hover:-translate-y-1 hover:shadow-xl flex items-center gap-4">
                        <div class="text-5xl bg-gray-100 p-4 rounded-xl">üìÑ</div>
                        <div class="text-left">
                            <div class="font-bold text-lg">Download Full Statement</div>
                            <div class="text-gray-600 text-sm">All transaction details</div>
                        </div>
                    </button>
                </div>
            </section>

            <!-- FAQ Section -->
            <section id="faq" class="border-t border-gray-200 pt-12 mt-12">
                <h2 class="text-3xl font-bold text-center text-gray-900 mb-8">Frequently Asked Questions</h2>

                <div class="space-y-4 max-w-3xl mx-auto">
                    <!-- FAQ Item -->
                    <details class="bg-white border border-gray-200 rounded-xl overflow-hidden hover:border-blue-500 transition-all group">
                        <summary class="px-6 py-5 cursor-pointer font-semibold text-gray-900 hover:bg-gray-50 transition-colors flex items-center gap-3 select-none">
                            <span>üì§ How do I export CSV from Trading 212?</span>
                            <span class="ml-auto text-2xl text-blue-600 group-open:rotate-45 transition-transform">+</span>
                        </summary>
                        <div class="px-6 pb-6 pt-2 text-gray-700 border-t border-gray-100">
                            <p class="font-semibold mb-2 mt-2">Web Platform:</p>
                            <ol class="list-decimal list-inside space-y-2 mb-4">
                                <li>Log in to <a href="https://www.trading212.com" target="_blank" class="text-blue-600 hover:underline">trading212.com</a></li>
                                <li>Go to <strong>History</strong> ‚Üí <strong>Statements</strong></li>
                                <li>Select your date range (e.g., 2024-01-01 to 2024-12-31)</li>
                                <li>Click <strong>Export</strong> and choose <strong>CSV format</strong></li>
                            </ol>
                            <p class="font-semibold mb-2">Mobile App:</p>
                            <ol class="list-decimal list-inside space-y-2">
                                <li>Tap <strong>More</strong> ‚Üí <strong>History</strong></li>
                                <li>Select date range</li>
                                <li>Tap <strong>Export</strong> ‚Üí Choose <strong>CSV</strong></li>
                            </ol>
                        </div>
                    </details>

                    <details class="bg-white border border-gray-200 rounded-xl overflow-hidden hover:border-blue-500 transition-all group">
                        <summary class="px-6 py-5 cursor-pointer font-semibold text-gray-900 hover:bg-gray-50 transition-colors flex items-center gap-3 select-none">
                            <span>üìù How to file K4 with Skatteverket?</span>
                            <span class="ml-auto text-2xl text-blue-600 group-open:rotate-45 transition-transform">+</span>
                        </summary>
                        <div class="px-6 pb-6 pt-2 text-gray-700 border-t border-gray-100">
                            <p class="font-semibold mb-3">Online Filing (Recommended):</p>
                            <ol class="list-decimal list-inside space-y-2 mb-4">
                                <li>Visit <a href="https://www.skatteverket.se" target="_blank" class="text-blue-600 hover:underline">skatteverket.se</a> and log in with BankID</li>
                                <li>Open "Inkomstdeklaration 2025 (inkomst√•ret 2024)"</li>
                                <li>Navigate to "Bilaga K4 - V√§rdepapper"</li>
                                <li>Select <strong>"K4 Bilaga B - Utl√§ndska aktier"</strong> (Foreign securities)</li>
                                <li>Enter data from your K4 Excel file (Sheet 2)</li>
                                <li>Submit before <strong class="text-blue-600">May 2, 2025</strong></li>
                            </ol>
                            <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded">
                                <p class="text-sm"><strong>Why Part B?</strong> All Trading 212 securities are foreign (non-Swedish).</p>
                            </div>
                        </div>
                    </details>

                    <details class="bg-white border border-gray-200 rounded-xl overflow-hidden hover:border-blue-500 transition-all group">
                        <summary class="px-6 py-5 cursor-pointer font-semibold text-gray-900 hover:bg-gray-50 transition-colors flex items-center gap-3 select-none">
                            <span>üìä What's in the K4 Excel file?</span>
                            <span class="ml-auto text-2xl text-blue-600 group-open:rotate-45 transition-transform">+</span>
                        </summary>
                        <div class="px-6 pb-6 pt-2 text-gray-700 border-t border-gray-100 space-y-3">
                            <p>The generated Excel file contains 3 sheets:</p>
                            <ul class="space-y-2">
                                <li class="flex items-start gap-2">
                                    <span class="text-blue-600 font-bold">1.</span>
                                    <span><strong>K4 Detaljerad</strong> - Every transaction listed separately</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-blue-600 font-bold">2.</span>
                                    <span><strong>K4 Sammanst√§llning</strong> ‚≠ê - Grouped by security (recommended)</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-blue-600 font-bold">3.</span>
                                    <span><strong>Sammanfattning</strong> - Summary totals for K4 boxes</span>
                                </li>
                            </ul>
                        </div>
                    </details>

                    <details class="bg-white border border-gray-200 rounded-xl overflow-hidden hover:border-blue-500 transition-all group">
                        <summary class="px-6 py-5 cursor-pointer font-semibold text-gray-900 hover:bg-gray-50 transition-colors flex items-center gap-3 select-none">
                            <span>üí∞ How much tax will I pay?</span>
                            <span class="ml-auto text-2xl text-blue-600 group-open:rotate-45 transition-transform">+</span>
                        </summary>
                        <div class="px-6 pb-6 pt-2 text-gray-700 border-t border-gray-100">
                            <p class="mb-3">Capital gains from stocks are taxed at <strong>30%</strong> in Sweden.</p>
                            <div class="bg-gray-50 rounded-lg p-4 space-y-2">
                                <p class="font-semibold">Example:</p>
                                <ul class="space-y-1 text-sm">
                                    <li>‚Ä¢ Your gains: 10,000 SEK</li>
                                    <li>‚Ä¢ Your losses: -1,000 SEK</li>
                                    <li>‚Ä¢ <strong>Net profit: 9,000 SEK</strong></li>
                                    <li class="pt-2">‚Ä¢ Tax (30%): <strong class="text-blue-600">2,700 SEK</strong></li>
                                </ul>
                            </div>
                        </div>
                    </details>

                    <details class="bg-white border border-gray-200 rounded-xl overflow-hidden hover:border-blue-500 transition-all group">
                        <summary class="px-6 py-5 cursor-pointer font-semibold text-gray-900 hover:bg-gray-50 transition-colors flex items-center gap-3 select-none">
                            <span>üîí Is my data safe?</span>
                            <span class="ml-auto text-2xl text-blue-600 group-open:rotate-45 transition-transform">+</span>
                        </summary>
                        <div class="px-6 pb-6 pt-2 text-gray-700 border-t border-gray-100">
                            <p class="font-semibold mb-3">Yes, 100% safe. Your data never leaves your computer.</p>
                            <ul class="space-y-2">
                                <li>‚úì All processing happens in your browser</li>
                                <li>‚úì No data uploaded to any server</li>
                                <li>‚úì No data stored or logged</li>
                                <li>‚úì No cookies or tracking</li>
                                <li>‚úì Open source - verify the code yourself</li>
                            </ul>
                        </div>
                    </details>

                    <details class="bg-white border border-gray-200 rounded-xl overflow-hidden hover:border-blue-500 transition-all group">
                        <summary class="px-6 py-5 cursor-pointer font-semibold text-gray-900 hover:bg-gray-50 transition-colors flex items-center gap-3 select-none">
                            <span>‚ùì More Questions?</span>
                            <span class="ml-auto text-2xl text-blue-600 group-open:rotate-45 transition-transform">+</span>
                        </summary>
                        <div class="px-6 pb-6 pt-2 text-gray-700 border-t border-gray-100">
                            <p class="mb-3"><strong>Skatteverket (Swedish Tax Agency):</strong></p>
                            <ul class="space-y-1 mb-4">
                                <li>‚Ä¢ Phone: <strong>0771-567 567</strong></li>
                                <li>‚Ä¢ <a href="https://www.skatteverket.se" target="_blank" class="text-blue-600 hover:underline">skatteverket.se</a></li>
                            </ul>
                            <p class="mb-3"><strong>Tool Support:</strong></p>
                            <ul class="space-y-1">
                                <li>‚Ä¢ <a href="guide.html" class="text-blue-600 hover:underline">User Guide</a></li>
                                <li>‚Ä¢ <a href="https://github.com/sedflix/trading212-k4-converter/issues" target="_blank" class="text-blue-600 hover:underline">Report Issue on GitHub</a></li>
                            </ul>
                        </div>
                    </details>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="bg-gray-50 border-t border-gray-200 px-6 py-10 text-center">
            <div class="max-w-3xl mx-auto">
                <div class="flex flex-wrap gap-6 justify-center mb-4 text-sm">
                    <a href="guide.html" class="text-gray-700 hover:text-blue-600 font-medium">User Guide</a>
                    <a href="https://github.com/sedflix/trading212-k4-converter" target="_blank" class="text-gray-700 hover:text-blue-600 font-medium">GitHub</a>
                    <a href="https://www.skatteverket.se" target="_blank" class="text-gray-700 hover:text-blue-600 font-medium">Skatteverket</a>
                </div>
                <p class="text-gray-600 text-sm mb-3">
                    <strong>100% Private</strong> ‚Ä¢ All processing in your browser ‚Ä¢ No data transmitted ‚Ä¢
                    <a href="https://github.com/sedflix/trading212-k4-converter" target="_blank" class="text-blue-600 hover:underline">Open Source</a>
                </p>
                <p class="text-gray-500 text-xs">
                    Disclaimer: Verify all calculations before filing. Not affiliated with Trading 212 or Skatteverket.
                </p>
            </div>
        </footer>
    </div>

    <!-- Notification Toast -->
    <div id="notification" class="fixed bottom-8 right-8 bg-green-500 text-white px-6 py-4 rounded-xl shadow-2xl transform translate-y-32 opacity-0 transition-all duration-300 font-medium"></div>

    <script src="app.js"></script>

    <style>
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        details[open] > summary > span:last-child {
            transform: rotate(45deg);
        }
        #uploadArea.dragover {
            @apply border-green-500 bg-green-50 scale-105;
        }
    </style>
</body>
</html>
